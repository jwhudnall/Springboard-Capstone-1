{% extends 'base.html' %}

{% block title %}{{user.username}}{% endblock %}

{% block content %}

<!-- Test Area -->
<div class="grid grid-cols-1 md:grid-cols-5 gap-4">
  <div class="md:col-span-1 bg-lime-200">
    <ol>
      <li>Recommendations</li>
      <li>Account Information</li>
      <li>Search History</li>
    </ol>
  </div>
  <div class="md:col-span-4 bg-gray-200">
    <p>This is a test</p>
  </div>

</div>




<!-- End Test Area -->







<h1 class="text-3xl text-center mt-3">Welcome, {{user.username}}</h1>
<div class="w-full max-w-sm mt-5 mx-auto border-solid border-2 border-black p-2">
  <ul>
    <li class="font-bold">Username: <span class="font-normal">{{user.username}}</span></li>
    <li class="font-bold">First Name: <span class="font-normal">{{user.first_name}}</span></li>

  </ul>
  <form action="/users/{{user.id}}/delete" method="POST">
    <button type="submit" class="float-right py-1 px-2 text-xs font-medium text-center text-white bg-red-700 rounded-lg hover:bg-red-800 focus:ring-4 focus:ring-blue-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-blue-800">Delete Account</button>
  </form>
</div>

{% if queries %}
<div id="queryContainer" class="">
  <h3>Your Searches:</h3>
  <ul id="queryTable">
    {% for q in queries %}
    <li data-qid="{{q.id}}">
      {{q.text}}
        <button class="text-red-500">X</button>
    </li>
    {% endfor %}
  </ul>
</div>

<h2 class="text-3xl text-center mt-3">Based on your Search History:</h2>
{% else %}
<div>
  <h2 class="text-3xl text-center mt-3">Recommendations will appear here after you make a few searches.</h2>
</div>
{% endif %}



<!-- Grid Version -->
<div class="max-w-screen-lg mt-5 mx-auto grid grid-cols-1 lg:grid-cols-3 gap-4">
  <div class="px-3 mx-4 justify-self-center md:mx-4 max-w-xl mb-16 no-underline bg-white transition shadow-lg hover:shadow hover:-translateY-sm flex flex-1 flex-col rounded-lg">
    <div class="px-1 py-1">
      <div><h2 class="text-center text-xl font-extrabold mb-3" id="tweetsPositive">Positive</h2></div>
      {% if tweets[0] %}
      <div class="overflow-y-auto h-96">

        {% for t in tweets[0] %}
          <div class="relative">
            <div class="absolute top-0 right-0 text-center px-1 bg-gradient-to-r from-lime-100 to-lime-500">
                <span class="font-semibold text-base"><span class="font-semibold">{{t.sentiment.title()}}</span>
                <span class="italic text-xs">(Polarity: {{t.polarity}})</span></span>
            </div>
            <div class="flex justify-center">
              {{t.embed_html|safe }}
            </div>
          </div>
        {% endfor %}

      </div>
      {% else %}
        <p class="text-center">No results found for this category.</p>
      {% endif %}
    </div>

  </div>
  <div class="px-3 mx-4 justify-self-center md:mx-4 max-w-xl mb-16 no-underline bg-white transition shadow-lg hover:shadow hover:-translateY-sm flex flex-1 flex-col rounded-lg">
    <div class="px-1 py-1">
      <div><h2 class="text-center text-xl font-extrabold mb-3" id="tweetsNeutral">Neutral</h2></div>
      {% if tweets[1] %}
      <div class="overflow-y-auto h-96">

          {% for t in tweets[1] %}
          <div class="relative">
            <div class="absolute top-0 right-0 text-center px-1 bg-amber-50">
                <span class="font-semibold text-base"><span class="font-semibold">{{t.sentiment.title()}}</span>
                <span class="italic text-xs">(Polarity: {{t.polarity}})</span></span>
            </div>
            <div class="flex justify-center">
              {{t.embed_html|safe }}
            </div>
          </div>
          {% endfor %}

      </div>
        {% else %}
          <p class="text-center">No results found for this category.</p>
        {% endif %}
    </div>

  </div>
  <div class="px-3 mx-4 justify-self-center md:mx-4 max-w-xl mb-16 no-underline bg-white transition shadow-lg hover:shadow hover:-translateY-sm flex flex-1 flex-col rounded-lg">
    <div class="px-1 py-1">
      <div><h2 class="text-center text-xl font-extrabold mb-3" id="tweetsNegative">Negative</h2></div>
      {% if tweets[2] %}
      <div class="overflow-y-auto h-96">

        {% for t in tweets[2] %}
        <div class="relative">
          <div class="absolute top-0 right-0 text-center px-1 bg-gradient-to-r from-red-100 to-red-500">
              <span class="font-semibold text-base"><span class="font-semibold">{{t.sentiment.title()}}</span>
              <span class="italic text-xs">(Polarity: {{t.polarity}})</span></span>
          </div>
            <div class="flex justify-center">
              {{t.embed_html|safe }}
            </div>
          </div>
        {% endfor %}

      </div>
      {% else %}
        <p class="text-center">No results found for this category.</p>
        {% endif %}
    </div>

  </div>

</div>

<!-- End Test Area -->

{% endblock %}
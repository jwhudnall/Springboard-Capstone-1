"""Tests for Project Veritas helper functions."""
from unittest import TestCase
from app import categorize_by_sentiment, prune_tweets, remove_stop_words


class TestHelperFunctions(TestCase):
    """Tests helper functions."""

    def test_categorize_by_sentiment(self):
        """Test categorize_by_sentiment function. Function should return a tuple of 3 lists: Positive, Neutral and Negative sentiment tweets."""

        tweet_lst = [{'id': '1492752467024486402', 'text': 'is Kanye West not likeâ€¦ embarrassed?', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">is Kanye West not likeâ€¦ embarrassed?</p>&mdash; imari (@imari) <a href="https://twitter.com/imari/status/1492752467024486402?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492625881306517505', 'text': 'Kanye West should threaten to end his entire career and quit social media unless Billie Eilish apologizes.\n\nSheâ€™ll never apologize and weâ€™ll all be free.', 'polarity': 0.21, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West should threaten to end his entire career and quit social media unless Billie Eilish apologizes.<br><br>Sheâ€™ll never apologize and weâ€™ll all be free.</p>&mdash; Alex Goldschmidt (@alexandergold) <a href="https://twitter.com/alexandergold/status/1492625881306517505?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1492629926209540101', 'text': 'I ainâ€™t gon lie Kanye West got the ppl back on his side.. anybody go against Ye right now go against the ppl.', 'polarity': 0.14, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">I ainâ€™t gon lie Kanye West got the ppl back on his side.. anybody go against Ye right now go against the ppl.</p>&mdash; DJ Akademiks (@Akademiks) <a href="https://twitter.com/Akademiks/status/1492629926209540101?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1492484595329249282', 'text': 'Debuts Top 50 Spotify Global:\n\n3. #StayAlive_CHAKHO - Jungkook prod. SUGA (4.2M)\n9. #TheJokerAndTheQueen - Ed Sheeran e Taylor Swift (3.2M)\n28. City of Gods - Fivio Foreign, Kanye West e Alicia Keys (2.0M)\n29. Boyfriend- Dove Cameron (2.0M)\n31. MAMIII - Becky G e Karol G (1.9M) https://t.co/ORQey0dUx8', 'polarity': 0.02, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Debuts Top 50 Spotify Global:<br><br>3. <a href="https://twitter.com/hashtag/StayAlive_CHAKHO?src=hash&amp;ref_src=twsrc%5Etfw">#StayAlive_CHAKHO</a> - Jungkook prod. SUGA (4.2M)<br>9. <a href="https://twitter.com/hashtag/TheJokerAndTheQueen?src=hash&amp;ref_src=twsrc%5Etfw">#TheJokerAndTheQueen</a> - Ed Sheeran e Taylor Swift (3.2M)<br>28. City of Gods - Fivio Foreign, Kanye West e Alicia Keys (2.0M)<br>29. Boyfriend- Dove Cameron (2.0M)<br>31. MAMIII - Becky G e Karol G (1.9M) <a href="https://t.co/ORQey0dUx8">pic.twitter.com/ORQey0dUx8</a></p>&mdash; Tracklist #BBB22 (@tracklist) <a href="https://twitter.com/tracklist/status/1492484595329249282?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1492739548291420166', 'text': 'via Kanye West on Instagram. https://t.co/U74rTdlQxQ', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">via Kanye West on Instagram. <a href="https://t.co/U74rTdlQxQ">pic.twitter.com/U74rTdlQxQ</a></p>&mdash; SAINT (@saint) <a href="https://twitter.com/saint/status/1492739548291420166?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492634031090982919', 'text': 'JUST IN: Kanye West and Kid Cudi beef erupts, Cudi calls Ye a dinosaur\n\nhttps://t.co/VPoT8fU3qD', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">JUST IN: Kanye West and Kid Cudi beef erupts, Cudi calls Ye a dinosaur<a href="https://t.co/VPoT8fU3qD">https://t.co/VPoT8fU3qD</a></p>&mdash; XXL Magazine (@XXL) <a href="https://twitter.com/XXL/status/1492634031090982919?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1493005845478662147', 'text': 'Kanye West makes appearance in McDonaldâ€™s #SuperBowl commercial https://t.co/s5gL3MAcvm', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West makes appearance in McDonaldâ€™s <a href="https://twitter.com/hashtag/SuperBowl?src=hash&amp;ref_src=twsrc%5Etfw">#SuperBowl</a> commercial <a href="https://t.co/s5gL3MAcvm">pic.twitter.com/s5gL3MAcvm</a></p>&mdash; XXL Magazine (@XXL) <a href="https://twitter.com/XXL/status/1493005845478662147?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492629827979038722', 'text': "Kanye West says he won't put Kid Cudi on 'Donda 2' so Cudi called him a 'dinosaur' in response https://t.co/S3HBvu8g3g", 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West says he won&#39;t put Kid Cudi on &#39;Donda 2&#39; so Cudi called him a &#39;dinosaur&#39; in response <a href="https://t.co/S3HBvu8g3g">https://t.co/S3HBvu8g3g</a></p>&mdash; UPROXX (@UPROXX) <a href="https://twitter.com/UPROXX/status/1492629827979038722?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {
            'id': '1492748429004455939', 'text': 'women have lied to me. women have cheated on me. theyâ€™ve broke my heart. but ive never been down atrocious like kanye west posting this https://t.co/bGfUSc4enz', 'polarity': -0.11, 'sentiment': 'negative', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">women have lied to me. women have cheated on me. theyâ€™ve broke my heart. but ive never been down atrocious like kanye west posting this <a href="https://t.co/bGfUSc4enz">pic.twitter.com/bGfUSc4enz</a></p>&mdash; Vincent Martella (@VinMan17) <a href="https://twitter.com/VinMan17/status/1492748429004455939?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492794550854864897', 'text': 'Kanye reaches a new low, targeting Pete Davidson, Kid Cudi, Kim Kardashian, Billie Eilish and Taylor Swift with childish Marvel IG memes https://t.co/AQPOJd5H74 https://t.co/FzMpJL7Pe3', 'polarity': -0.02, 'sentiment': 'negative', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye reaches a new low, targeting Pete Davidson, Kid Cudi, Kim Kardashian, Billie Eilish and Taylor Swift with childish Marvel IG memes <a href="https://t.co/AQPOJd5H74">https://t.co/AQPOJd5H74</a> <a href="https://t.co/FzMpJL7Pe3">pic.twitter.com/FzMpJL7Pe3</a></p>&mdash; Marlow Stern (@MarlowNYC) <a href="https://twitter.com/MarlowNYC/status/1492794550854864897?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492772065665032200', 'text': 'Kanye West sur Instagram ðŸ˜­ https://t.co/qVwDnvEtLN', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West sur Instagram ðŸ˜­ <a href="https://t.co/qVwDnvEtLN">pic.twitter.com/qVwDnvEtLN</a></p>&mdash; WRLD (@wrld_mag) <a href="https://twitter.com/wrld_mag/status/1492772065665032200?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492906285083369476', 'text': 'Kanye West went to war against Kid Cudi, Pete Davidson, and others before deleting most of his Instagram account. https://t.co/wyPsEF4Bc6', 'polarity': 0.25, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West went to war against Kid Cudi, Pete Davidson, and others before deleting most of his Instagram account. <a href="https://t.co/wyPsEF4Bc6">https://t.co/wyPsEF4Bc6</a></p>&mdash; VANITY FAIR (@VanityFair) <a href="https://twitter.com/VanityFair/status/1492906285083369476?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492763066844397571', 'text': "Update: Kanye West and Kid Cudi's public falling out continues with a series of graphics Ye has shared to his IG.\n\nThe latest: https://t.co/YGitSLnUBA https://t.co/hSLFDfpkmT", 'polarity': 0.25, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Update: Kanye West and Kid Cudi&#39;s public falling out continues with a series of graphics Ye has shared to his IG.<br><br>The latest: <a href="https://t.co/YGitSLnUBA">https://t.co/YGitSLnUBA</a> <a href="https://t.co/hSLFDfpkmT">pic.twitter.com/hSLFDfpkmT</a></p>&mdash; Complex (@Complex) <a href="https://twitter.com/Complex/status/1492763066844397571?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492935590404407305', 'text': 'kanye west is pulling a donald trump where if you say a new completely insane thing everyday none of it starts to mean anything', 'polarity': -0.34, 'sentiment': 'negative', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">kanye west is pulling a donald trump where if you say a new completely insane thing everyday none of it starts to mean anything</p>&mdash; matt (@mattxiv) <a href="https://twitter.com/mattxiv/status/1492935590404407305?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492918072809865221', 'text': "Kanye West is on a tear again against Kim Kardashian's boyfriend, and this one seems downright hostile. https://t.co/WHVBJY8BKA", 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West is on a tear again against Kim Kardashian&#39;s boyfriend, and this one seems downright hostile. <a href="https://t.co/WHVBJY8BKA">https://t.co/WHVBJY8BKA</a></p>&mdash; TMZ (@TMZ) <a href="https://twitter.com/TMZ/status/1492918072809865221?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}]

        results = categorize_by_sentiment(tweet_lst)

        self.assertEqual(results, ([{'id': '1492906285083369476', 'text': 'Kanye West went to war against Kid Cudi, Pete Davidson, and others before deleting most of his Instagram account. https://t.co/wyPsEF4Bc6', 'polarity': 0.25, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West went to war against Kid Cudi, Pete Davidson, and others before deleting most of his Instagram account. <a href="https://t.co/wyPsEF4Bc6">https://t.co/wyPsEF4Bc6</a></p>&mdash; VANITY FAIR (@VanityFair) <a href="https://twitter.com/VanityFair/status/1492906285083369476?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492763066844397571', 'text': "Update: Kanye West and Kid Cudi's public falling out continues with a series of graphics Ye has shared to his IG.\n\nThe latest: https://t.co/YGitSLnUBA https://t.co/hSLFDfpkmT", 'polarity': 0.25, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Update: Kanye West and Kid Cudi&#39;s public falling out continues with a series of graphics Ye has shared to his IG.<br><br>The latest: <a href="https://t.co/YGitSLnUBA">https://t.co/YGitSLnUBA</a> <a href="https://t.co/hSLFDfpkmT">pic.twitter.com/hSLFDfpkmT</a></p>&mdash; Complex (@Complex) <a href="https://twitter.com/Complex/status/1492763066844397571?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492625881306517505', 'text': 'Kanye West should threaten to end his entire career and quit social media unless Billie Eilish apologizes.\n\nSheâ€™ll never apologize and weâ€™ll all be free.', 'polarity': 0.21, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West should threaten to end his entire career and quit social media unless Billie Eilish apologizes.<br><br>Sheâ€™ll never apologize and weâ€™ll all be free.</p>&mdash; Alex Goldschmidt (@alexandergold) <a href="https://twitter.com/alexandergold/status/1492625881306517505?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1492629926209540101', 'text': 'I ainâ€™t gon lie Kanye West got the ppl back on his side.. anybody go against Ye right now go against the ppl.', 'polarity': 0.14, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">I ainâ€™t gon lie Kanye West got the ppl back on his side.. anybody go against Ye right now go against the ppl.</p>&mdash; DJ Akademiks (@Akademiks) <a href="https://twitter.com/Akademiks/status/1492629926209540101?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1492484595329249282', 'text': 'Debuts Top 50 Spotify Global:\n\n3. #StayAlive_CHAKHO - Jungkook prod. SUGA (4.2M)\n9. #TheJokerAndTheQueen - Ed Sheeran e Taylor Swift (3.2M)\n28. City of Gods - Fivio Foreign, Kanye West e Alicia Keys (2.0M)\n29. Boyfriend- Dove Cameron (2.0M)\n31. MAMIII - Becky G e Karol G (1.9M) https://t.co/ORQey0dUx8', 'polarity': 0.02, 'sentiment': 'positive', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Debuts Top 50 Spotify Global:<br><br>3. <a href="https://twitter.com/hashtag/StayAlive_CHAKHO?src=hash&amp;ref_src=twsrc%5Etfw">#StayAlive_CHAKHO</a> - Jungkook prod. SUGA (4.2M)<br>9. <a href="https://twitter.com/hashtag/TheJokerAndTheQueen?src=hash&amp;ref_src=twsrc%5Etfw">#TheJokerAndTheQueen</a> - Ed Sheeran e Taylor Swift (3.2M)<br>28. City of Gods - Fivio Foreign, Kanye West e Alicia Keys (2.0M)<br>29. Boyfriend- Dove Cameron (2.0M)<br>31. MAMIII - Becky G e Karol G (1.9M) <a href="https://t.co/ORQey0dUx8">pic.twitter.com/ORQey0dUx8</a></p>&mdash; Tracklist #BBB22 (@tracklist) <a href="https://twitter.com/tracklist/status/1492484595329249282?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}], [{'id': '1492752467024486402', 'text': 'is Kanye West not likeâ€¦ embarrassed?', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">is Kanye West not likeâ€¦ embarrassed?</p>&mdash; imari (@imari) <a href="https://twitter.com/imari/status/1492752467024486402?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492739548291420166', 'text': 'via Kanye West on Instagram. https://t.co/U74rTdlQxQ', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">via Kanye West on Instagram. <a href="https://t.co/U74rTdlQxQ">pic.twitter.com/U74rTdlQxQ</a></p>&mdash; SAINT (@saint) <a href="https://twitter.com/saint/status/1492739548291420166?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492634031090982919', 'text': 'JUST IN: Kanye West and Kid Cudi beef erupts, Cudi calls Ye a dinosaur\n\nhttps://t.co/VPoT8fU3qD',
                         'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">JUST IN: Kanye West and Kid Cudi beef erupts, Cudi calls Ye a dinosaur<a href="https://t.co/VPoT8fU3qD">https://t.co/VPoT8fU3qD</a></p>&mdash; XXL Magazine (@XXL) <a href="https://twitter.com/XXL/status/1492634031090982919?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1493005845478662147', 'text': 'Kanye West makes appearance in McDonaldâ€™s #SuperBowl commercial https://t.co/s5gL3MAcvm', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West makes appearance in McDonaldâ€™s <a href="https://twitter.com/hashtag/SuperBowl?src=hash&amp;ref_src=twsrc%5Etfw">#SuperBowl</a> commercial <a href="https://t.co/s5gL3MAcvm">pic.twitter.com/s5gL3MAcvm</a></p>&mdash; XXL Magazine (@XXL) <a href="https://twitter.com/XXL/status/1493005845478662147?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492629827979038722', 'text': "Kanye West says he won't put Kid Cudi on 'Donda 2' so Cudi called him a 'dinosaur' in response https://t.co/S3HBvu8g3g", 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West says he won&#39;t put Kid Cudi on &#39;Donda 2&#39; so Cudi called him a &#39;dinosaur&#39; in response <a href="https://t.co/S3HBvu8g3g">https://t.co/S3HBvu8g3g</a></p>&mdash; UPROXX (@UPROXX) <a href="https://twitter.com/UPROXX/status/1492629827979038722?ref_src=twsrc%5Etfw">February 12, 2022</a></blockquote>\n'}, {'id': '1492772065665032200', 'text': 'Kanye West sur Instagram ðŸ˜­ https://t.co/qVwDnvEtLN', 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West sur Instagram ðŸ˜­ <a href="https://t.co/qVwDnvEtLN">pic.twitter.com/qVwDnvEtLN</a></p>&mdash; WRLD (@wrld_mag) <a href="https://twitter.com/wrld_mag/status/1492772065665032200?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492918072809865221', 'text': "Kanye West is on a tear again against Kim Kardashian's boyfriend, and this one seems downright hostile. https://t.co/WHVBJY8BKA", 'polarity': 0.0, 'sentiment': 'neutral', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye West is on a tear again against Kim Kardashian&#39;s boyfriend, and this one seems downright hostile. <a href="https://t.co/WHVBJY8BKA">https://t.co/WHVBJY8BKA</a></p>&mdash; TMZ (@TMZ) <a href="https://twitter.com/TMZ/status/1492918072809865221?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}], [{'id': '1492935590404407305', 'text': 'kanye west is pulling a donald trump where if you say a new completely insane thing everyday none of it starts to mean anything', 'polarity': -0.34, 'sentiment': 'negative', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">kanye west is pulling a donald trump where if you say a new completely insane thing everyday none of it starts to mean anything</p>&mdash; matt (@mattxiv) <a href="https://twitter.com/mattxiv/status/1492935590404407305?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492748429004455939', 'text': 'women have lied to me. women have cheated on me. theyâ€™ve broke my heart. but ive never been down atrocious like kanye west posting this https://t.co/bGfUSc4enz', 'polarity': -0.11, 'sentiment': 'negative', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">women have lied to me. women have cheated on me. theyâ€™ve broke my heart. but ive never been down atrocious like kanye west posting this <a href="https://t.co/bGfUSc4enz">pic.twitter.com/bGfUSc4enz</a></p>&mdash; Vincent Martella (@VinMan17) <a href="https://twitter.com/VinMan17/status/1492748429004455939?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}, {'id': '1492794550854864897', 'text': 'Kanye reaches a new low, targeting Pete Davidson, Kid Cudi, Kim Kardashian, Billie Eilish and Taylor Swift with childish Marvel IG memes https://t.co/AQPOJd5H74 https://t.co/FzMpJL7Pe3', 'polarity': -0.02, 'sentiment': 'negative', 'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Kanye reaches a new low, targeting Pete Davidson, Kid Cudi, Kim Kardashian, Billie Eilish and Taylor Swift with childish Marvel IG memes <a href="https://t.co/AQPOJd5H74">https://t.co/AQPOJd5H74</a> <a href="https://t.co/FzMpJL7Pe3">pic.twitter.com/FzMpJL7Pe3</a></p>&mdash; Marlow Stern (@MarlowNYC) <a href="https://twitter.com/MarlowNYC/status/1492794550854864897?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'}]))
        self.assertEqual(len(results), 3)
        self.assertEqual(len(results[0]), 5)
        self.assertEqual(len(results[1]), 7)
        self.assertEqual(len(results[2]), 3)

        self.assertGreater(results[0][0]['polarity'], 0)
        self.assertEqual(results[1][0]['polarity'], 0)
        self.assertLess(results[2][0]['polarity'], 0)
        # Compare polarity scores within same tuple
        self.assertGreater(results[0][0]['polarity'],
                           results[0][-1]['polarity'])
        self.assertLess(results[2][0]['polarity'],
                        results[2][-1]['polarity'])

        self.assertEqual(results[0][0]['sentiment'], 'positive')
        self.assertEqual(results[1][0]['sentiment'], 'neutral')
        self.assertEqual(results[2][0]['sentiment'], 'negative')

    def test_prune_tweets(self):
        """Test prune_tweets function. Function prunes a list of raw_tweet objects to contain a specified list of key:value pairs.

        Keys to be returned: id, text, polarity, sentiment, oembed_url
        """
        raw_tweets = [
            {'created_at': 'Sun Feb 13 22:56:43 +0000 2022', 'id': 1492996182670462980, 'id_str': '1492996182670462980', 'full_text': 'If the Bengals win the Super Bowl Iâ€™m giving one person who likes and retweets this tweet $10,000 dollars.\n\nMust be following me to win. GO.', 'truncated': False, 'display_text_range': [0, 140], 'entities': {'hashtags': [], 'symbols': [], 'user_mentions': [], 'urls': []}, 'metadata': {'result_type': 'popular', 'iso_language_code': 'en'}, 'source': '<a href="http://twitter.com/download/iphone" rel="nofollow">Twitter for iPhone</a>', 'in_reply_to_status_id': None, 'in_reply_to_status_id_str': None, 'in_reply_to_user_id': None, 'in_reply_to_user_id_str': None, 'in_reply_to_screen_name': None, 'user': {'id': 581301629, 'id_str': '581301629', 'name': 'Jake Paul', 'screen_name': 'jakepaul', 'location': 'United States', 'description': '', 'url': 'https://t.co/HyYBC352W9', 'entities': {'url': {'urls': [{'url': 'https://t.co/HyYBC352W9', 'expanded_url': 'http://www.showtime.com/ppv', 'display_url': 'showtime.com/ppv', 'indices': [0, 23]}]}, 'description': {'urls': []}}, 'protected': False, 'followers_count': 4249521, 'friends_count': 8726, 'listed_count': 2163, 'created_at': 'Tue May 15 22:26:56 +0000 2012', 'favourites_count': 8947, 'utc_offset': None, 'time_zone': None,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       'geo_enabled': True, 'verified': True, 'statuses_count': 11508, 'lang': None, 'contributors_enabled': False, 'is_translator': False, 'is_translation_enabled': False, 'profile_background_color': 'C0DEED', 'profile_background_image_url': 'http://abs.twimg.com/images/themes/theme1/bg.png', 'profile_background_image_url_https': 'https://abs.twimg.com/images/themes/theme1/bg.png', 'profile_background_tile': False, 'profile_image_url': 'http://pbs.twimg.com/profile_images/1459728843531509763/f1S6_nQp_normal.jpg', 'profile_image_url_https': 'https://pbs.twimg.com/profile_images/1459728843531509763/f1S6_nQp_normal.jpg', 'profile_banner_url': 'https://pbs.twimg.com/profile_banners/581301629/1640406672', 'profile_link_color': '1DA1F2', 'profile_sidebar_border_color': 'C0DEED', 'profile_sidebar_fill_color': 'DDEEF6', 'profile_text_color': '333333', 'profile_use_background_image': True, 'has_extended_profile': True, 'default_profile': True, 'default_profile_image': False, 'following': None, 'follow_request_sent': None, 'notifications': None, 'translator_type': 'none', 'withheld_in_countries': []}, 'geo': None, 'coordinates': None, 'place': None, 'contributors': None, 'is_quote_status': False, 'retweet_count': 92530, 'favorite_count': 119612, 'favorited': False, 'retweeted': False, 'lang': 'en'}
        ]

        result = prune_tweets(raw_tweets)

        self.assertEqual(result[0], {'id': '1492996182670462980', 'text': 'If the Bengals win the Super Bowl Iâ€™m giving one person who likes and retweets this tweet $10,000 dollars.\n\nMust be following me to win. GO.', 'polarity': 0.32, 'sentiment': 'positive',
                         'oembed_url': '<blockquote class="twitter-tweet"><p lang="en" dir="ltr">If the Bengals win the Super Bowl Iâ€™m giving one person who likes and retweets this tweet $10,000 dollars.<br><br>Must be following me to win. GO.</p>&mdash; Jake Paul (@jakepaul) <a href="https://twitter.com/jakepaul/status/1492996182670462980?ref_src=twsrc%5Etfw">February 13, 2022</a></blockquote>\n'})
        self.assertIn('id', result[0])
        self.assertIn('text', result[0])
        self.assertIn('polarity', result[0])
        self.assertIn('sentiment', result[0])
        self.assertIn('oembed_url', result[0])
        self.assertEqual(len(result[0].keys()), 5)

    def test_remove_stop_words(self):
        """Test remove_stop_words function. Uses nltk to remove stop words, returning a string of n words. """

        raw_sentence = "This is a sentence that includes stop words."

        result_1 = remove_stop_words(raw_sentence)
        self.assertEqual(result_1, 'This sentence')
        result_2 = remove_stop_words(raw_sentence, n=3)
        self.assertEqual(result_2, 'This sentence includes')
